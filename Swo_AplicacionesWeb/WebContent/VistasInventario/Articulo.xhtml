<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<f:facet name="first">
		<meta name="viewport"
			content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no" />
		<title>MANEJO DE ARTICULOS</title>
	</f:facet>
</h:head>
<body>
	<p:growl>
		<p:autoUpdate />
	</p:growl>

	<h:form id="form1">
		<p:messages>
			<p:autoUpdate />
		</p:messages>
		<p:panel collapsed="#{beanArticulo.panelColapso}">
			<f:facet name="header">
				<p:commandButton value="Nuevo Articulo" icon="fa fa-plus"
					update="@form"
					actionListener="#{beanArticulo.actionListenerColapsarPanel()}"></p:commandButton>
			</f:facet>
			<p:panelGrid columns="2">
				<h:outputText value="Nombre:"/>
				<p:inputText value="#{beanArticulo.nombreArt}" />
				<h:outputText value="Descripcion:" />
				<p:inputText value="#{beanArticulo.descripcionArt}" />

				        <p:outputLabel  value="Fecha de Expiracion:"/>
       					<p:datePicker   value="#{beanArticulo.fechaExpiArt}" showButtonBar="true"/>
     				    <p:outputLabel  value="Fecha de Elaboracion:"/>
    				    <p:datePicker   value="#{beanArticulo.fechaFabrArt}" showButtonBar="true"/>
       					
				<h:outputText value="Marca:" />
				<p:inputText value="#{beanArticulo.marcaArt}" />
				<h:outputText value="Riesgo:" />
				<p:inputText value="#{beanArticulo.riesgoArt}" />
				<h:outputText value="Lote:" />
				<p:inputText value="#{beanArticulo.loteArt}" />
				<h:outputText value="Maximo De Existencia:" />
				<p:inputText value="#{beanArticulo.maxArt}" />
				<h:outputText value="Minimo De Existencia:" />
				<p:inputText value="#{beanArticulo.minArt}" />
				<h:outputText value="Cantidad Stock:" />
				<p:inputText value="#{beanArticulo.stockArt}" />
				<p:commandButton value="Insertar" icon="fa fa-save"
					update="@form,:form2"
					actionListener="#{beanArticulo.actionListenerInsertarArticulo()}"></p:commandButton>
			</p:panelGrid>
		</p:panel>
	</h:form>
	<br />
	<h:form id="form2">
		<p:panel header="Datos Articulos" />
		<p:dataTable value="#{beanArticulo.lista}" reflow="true" var="a"
			paginator="true" rows="5">
			<!-- paginator para crear paginacion de la pag web y rows: cuantas lines de la tabla quiero q se muetren por pagina-->
			<p:column headerText="Nombre Articulo" filterBy="#{a.nombreArt}"
				priority="1" filterMatchMode="contains" style="width:50px">
				<!-- filterBy :realizar busquedas  -->
				<h:outputText value="#{a.nombreArt}" />
			</p:column>
			<p:column headerText="Descripcion Articulo"
				filterBy="#{a.descripcionArt}" priority="1" style="width:50px"
				filterMatchMode="contains">
				<h:outputText value="#{a.descripcionArt}" />
			</p:column>

			<p:column headerText="Fecha De Expiracion"
				filterBy="#{a.fechaExpiArt}" style="width:50px" filterMatchMode="contains">
				<h:outputText value="#{a.fechaExpiArt}" />
			</p:column>
			<p:column headerText="Fecha De Elaboracion"
				filterBy="#{a.fechaFabrArt}" style="width:50px" filterMatchMode="contains">
				<h:outputText value="#{a.fechaFabrArt}" />
			</p:column>
			<p:column headerText="Marca Articulo" style="width:50px" filterBy="#{a.marcaArt}"
				priority="1" filterMatchMode="contains">
				<h:outputText value="#{a.marcaArt}" />
			</p:column>
			<p:column headerText="Riesgo Del Articulo" style="width:50px" filterBy="#{a.riesgoArt}"
				priority="1" filterMatchMode="contains">
				<h:outputText value="#{a.riesgoArt}" />
			</p:column>

			<p:column headerText="Maximo De Existencia" style="width:50px" priority="">
				<h:outputText value="#{a.maxArt}" />
			</p:column>

			<p:column headerText="Minimo De Existencia" style="width:50px" priority="">
				<h:outputText value="#{a.minArt}" />
			</p:column>

			<p:column headerText="Stcok" priority="" style="width:50px">
				<h:outputText value="#{a.stockArt}" />
			</p:column>


			<p:column headerText="OPCIONES" priority="" style="width:50px">
				<p:commandButton value="Eliminar" icon="fa fa-close"
					title="Eliminar" update="@form"
					actionListener="#{beanArticulo.actionListenerEliminarCategoria(a.codigoArt)}">
					<p:confirm header="Confirmación" message="Desea elimnar?"
						icon="fa fa-exclamation-triangle"></p:confirm>
				</p:commandButton>
				<p:commandButton value="Editar" icon="fa fa-edit" title="Editar"
					actionListener="#{beanArticulo.actionListenerSeleccionarArticulo(a)}"
					update=":formEdicion" oncomplete="PF('dlgEdicion').show();"></p:commandButton>
			</p:column>
		</p:dataTable>
	</h:form>
	<p:dialog header="Editar información" widgetVar="dlgEdicion"
		modal="true">
		<h:form id="formEdicion">
			<p:growl>
				<p:autoUpdate />
			</p:growl>
			<h:outputText value="Cod Articulo:" />
			<h:outputText value="#{beanArticulo.articuloSeleccionado.codigoArt}" />
			<p:panelGrid columns="2">
				<h:outputText value="Nombre:" />
				<p:inputText value="#{beanArticulo.articuloSeleccionado.nombreArt}" />
				<h:outputText value="Descripcion:" />
				<p:inputText
					value="#{beanArticulo.articuloSeleccionado.descripcionArt}" />
				
				   <p:outputLabel  value="Fecha de Expiracion:"/>
       					<p:datePicker   value="#{beanArticulo.articuloSeleccionado.fechaExpiArt}" showButtonBar="true"/>
       					
     				    <p:outputLabel  value="Fecha de Elaboracion:"/>
    				    <p:datePicker   value="#{beanArticulo.articuloSeleccionado.fechaFabrArt}" showButtonBar="true"/>
				
				
				<h:outputText value="Marca:" />
				<p:inputText value="#{beanArticulo.articuloSeleccionado.marcaArt}" />
				<h:outputText value="Riesgo:" />
				<p:inputText value="#{beanArticulo.articuloSeleccionado.riesgoArt}" />
				<h:outputText value="Lote Articulo:" />
				<p:inputText value="#{beanArticulo.articuloSeleccionado.loteArt}" />
				<h:outputText value="Maximo De Existencia:" />
				<p:inputText value="#{beanArticulo.articuloSeleccionado.maxArt}" />
				<h:outputText value="Minimo De Existencia:" />
				<p:inputText value="#{beanArticulo.articuloSeleccionado.minArt}" />
				<h:outputText value="Cantidad Stock:" />
				<p:inputText value="#{beanArticulo.articuloSeleccionado.stockArt}" />
			</p:panelGrid>
			<p:commandButton value="Actualizar" icon="fa fa-save"
				update="@form,:form2"
				actionListener="#{beanArticulo.actionListenerActualizarArticulo()}" />
		</h:form>
<script type="text/javascript">
    PrimeFaces.locales['es'] = {
        closeText: 'Cerrar',
        prevText: 'Anterior',
        nextText: 'Siguiente',
        monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
        monthNamesShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
        dayNames: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
        dayNamesShort: ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab'],
        dayNamesMin: ['D', 'L', 'M', 'X', 'J', 'V', 'S'],
        weekHeader: 'Semana',
        firstDayOfWeek: 1,
        isRTL: false,
        showMonthAfterYear: false,
        yearSuffix: '',
        timeOnlyTitle: 'Sólo hora',
        timeText: 'Tiempo',
        hourText: 'Hora',
        minuteText: 'Minuto',
        secondText: 'Segundo',
        currentText: 'Fecha actual',
        ampm: false,
        month: 'Mes',
        week: 'Semana',
        day: 'Día',
        allDayText: 'Todo el día'
    };
</script>
 
<script type="text/javascript">
    //<![CDATA[
    function dateTemplateFunc(date) {
        return '<span style="background-color:' + ((date.day < 21 && date.day > 10) ? '#81C784' : 'inherit') + ';border-radius:50%;padding: .25em;width: 1.75em; height:1.75em; display:block;">' + date.day + '</span>';
    }
    //]]>
</script>
 
<style type="text/css">
    .value {
        font-weight: bold;
    }
</style>
	</p:dialog>
	<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
		<p:commandButton value="Si" type="button"
			styleClass="ui-confirmdialog-yes" icon="fa fa-check"></p:commandButton>
		<p:commandButton value="No" type="button"
			styleClass="ui-confirmdialog-no" icon="fa fa-times"></p:commandButton>
	</p:confirmDialog>
</body>
</html>

